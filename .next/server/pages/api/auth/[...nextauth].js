"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("firebase/storage");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\auth\\[...nextauth].ts */ \"(api)/./src/pages/api/auth/[...nextauth].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDYXV0aCU1QyU1Qi4uLm5leHRhdXRoJTVELnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3NFO0FBQ3RFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsNERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnlzdG9yZS8/YTRlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/firebase/init.ts":
/*!**********************************!*\
  !*** ./src/lib/firebase/init.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_storage__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_storage__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC2dwJv82pIqdjq7Mez5Yn8r_-9uxNnEuU\",\n    authDomain: \"rystore-eae2d.firebaseapp.com\",\n    projectId: \"rystore-eae2d\",\n    storageBucket: \"rystore-eae2d.appspot.com\",\n    messagingSenderId: \"610908197214\",\n    appId: \"1:610908197214:web:5842c344bc102a2f153fcf\"\n};\n// Inisialisasi Firebase\nconst firebaseApp = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n// Inisialisasi Firestore\nconst app = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(firebaseApp);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_2__.getStorage)(firebaseApp);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2ZpcmViYXNlL2luaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDRztBQUNmO0FBRTlDLE1BQU1HLGlCQUFpQjtJQUNyQkMsUUFBUTtJQUNSQyxZQUFZO0lBQ1pDLFdBQVc7SUFDWEMsZUFBZTtJQUNmQyxtQkFBbUI7SUFDbkJDLE9BQU87QUFDVDtBQUVBLHdCQUF3QjtBQUN4QixNQUFNQyxjQUEyQlYsMkRBQWFBLENBQUNHO0FBRS9DLHlCQUF5QjtBQUN6QixNQUFNUSxNQUFpQlYsZ0VBQVlBLENBQUNTO0FBQzdCLE1BQU1FLFVBQVdWLDREQUFVQSxDQUFDUSxhQUFhO0FBRWhELGlFQUFlQyxHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnlzdG9yZS8uL3NyYy9saWIvZmlyZWJhc2UvaW5pdC50cz85YWE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAsIEZpcmViYXNlQXBwIH0gZnJvbSBcImZpcmViYXNlL2FwcFwiO1xyXG5pbXBvcnQgeyBGaXJlc3RvcmUsIGdldEZpcmVzdG9yZSB9IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IHsgZ2V0U3RvcmFnZSB9IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcblxyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICBhcGlLZXk6IFwiQUl6YVN5QzJkd0p2ODJwSXFkanE3TWV6NVluOHJfLTl1eE5uRXVVXCIsXHJcbiAgYXV0aERvbWFpbjogXCJyeXN0b3JlLWVhZTJkLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gIHByb2plY3RJZDogXCJyeXN0b3JlLWVhZTJkXCIsXHJcbiAgc3RvcmFnZUJ1Y2tldDogXCJyeXN0b3JlLWVhZTJkLmFwcHNwb3QuY29tXCIsXHJcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiNjEwOTA4MTk3MjE0XCIsXHJcbiAgYXBwSWQ6IFwiMTo2MTA5MDgxOTcyMTQ6d2ViOjU4NDJjMzQ0YmMxMDJhMmYxNTNmY2ZcIixcclxufTtcclxuXHJcbi8vIEluaXNpYWxpc2FzaSBGaXJlYmFzZVxyXG5jb25zdCBmaXJlYmFzZUFwcDogRmlyZWJhc2VBcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuXHJcbi8vIEluaXNpYWxpc2FzaSBGaXJlc3RvcmVcclxuY29uc3QgYXBwOiBGaXJlc3RvcmUgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5leHBvcnQgY29uc3Qgc3RvcmFnZSAgPSBnZXRTdG9yYWdlKGZpcmViYXNlQXBwKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwcDtcclxuIl0sIm5hbWVzIjpbImluaXRpYWxpemVBcHAiLCJnZXRGaXJlc3RvcmUiLCJnZXRTdG9yYWdlIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJmaXJlYmFzZUFwcCIsImFwcCIsInN0b3JhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/firebase/init.ts\n");

/***/ }),

/***/ "(api)/./src/lib/firebase/service.ts":
/*!*************************************!*\
  !*** ./src/lib/firebase/service.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createData: () => (/* binding */ createData),\n/* harmony export */   deleteDataById: () => (/* binding */ deleteDataById),\n/* harmony export */   getCartData: () => (/* binding */ getCartData),\n/* harmony export */   getOrderData: () => (/* binding */ getOrderData),\n/* harmony export */   retrieveData: () => (/* binding */ retrieveData),\n/* harmony export */   retrieveDataById: () => (/* binding */ retrieveDataById),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   singUp: () => (/* binding */ singUp),\n/* harmony export */   updateDataById: () => (/* binding */ updateDataById),\n/* harmony export */   uploadImage: () => (/* binding */ uploadImage)\n/* harmony export */ });\n/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init */ \"(api)/./src/lib/firebase/init.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_init__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__]);\n([_init__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst firestore = _init__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n// CREATE\nasync function createData(collectionName, { data }, callback) {\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, collectionName), {\n            ...data,\n            dataAdded: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n            dataUpdated: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        });\n        callback({\n            statusCode: 200,\n            message: \"Register success\",\n            data: docRef\n        });\n    } catch (error) {\n        callback({\n            statusCode: 500,\n            message: error.message,\n            data: null\n        });\n    }\n}\nasync function uploadImage(folder, imageNames, images, callback) {\n    try {\n        const downloadURLs = [];\n        for(let i = 0; i < images.length; i++){\n            const image = images[i];\n            const imageName = imageNames[i];\n            const fileBuffer = await fs__WEBPACK_IMPORTED_MODULE_4__.promises.readFile(image.path);\n            const storagePath = `${folder}/${imageName}`;\n            const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.ref)(_init__WEBPACK_IMPORTED_MODULE_0__.storage, storagePath);\n            const metadata = {\n                contentType: \"image/png\"\n            };\n            await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.uploadBytes)(storageRef, fileBuffer, metadata);\n            const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getDownloadURL)(storageRef);\n            downloadURLs.push(downloadURL);\n        }\n        callback({\n            statusCode: 200,\n            message: \"OK\",\n            data: downloadURLs\n        });\n    } catch (error) {\n        callback({\n            statusCode: 500,\n            message: error.message,\n            data: null\n        });\n    }\n}\nasync function singUp(userData, callback) {\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"email\", \"==\", userData.email));\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n    const data = snapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n    // check id the email already exists\n    if (data.length > 0) {\n        callback({\n            statusCode: 400,\n            message: \"Email already exists\",\n            data: null\n        });\n    } else {\n        // hashing password using bcrypt\n        userData.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hash(userData.password, 10);\n        userData.role = \"user\";\n        const data = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, \"users\"), {\n            ...userData,\n            dataAdded: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n            dataUpdated: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        }).then(()=>{\n            callback({\n                statusCode: 200,\n                message: \"Register success\",\n                data: data\n            });\n        }).catch((error)=>{\n            callback({\n                statusCode: 500,\n                message: error.message,\n                data: null\n            });\n        });\n    }\n}\n// READ\nasync function retrieveData(collectionName, callback) {\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, collectionName));\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n    // .filter((doc)=> doc.data().stock > 0)\n    const data = snapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n    if (data) {\n        callback({\n            statusCode: 200,\n            message: \"Data found successfuly\",\n            data\n        });\n    } else {\n        callback({\n            statusCode: 404,\n            message: \"Data not found\",\n            data: null\n        });\n    }\n}\nasync function retrieveDataById(collectionName, id, callback) {\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestore, collectionName, id));\n    const data = {\n        id: id,\n        ...snapshot.data()\n    };\n    if (data) {\n        callback({\n            statusCode: 200,\n            message: \"Data found successfuly\",\n            data\n        });\n    } else {\n        callback({\n            statusCode: 404,\n            message: \"Data not found\",\n            data: null\n        });\n    }\n}\nasync function signIn(userData) {\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"email\", \"==\", userData.email));\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(q);\n    const data = snapshot.docs.map((doc)=>({\n            id: doc.id,\n            ...doc.data()\n        }));\n    if (data.length > 0) {\n        return data[0];\n    } else {\n        throw new Error(\"user not found\");\n    }\n}\nasync function getCartData(userId, callback) {\n    try {\n        const cartQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, \"cart\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"userId\", \"==\", userId));\n        const cartSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(cartQuery);\n        const cartData = cartSnapshot.docs.map((cartDoc)=>({\n                id: cartDoc.id,\n                ...cartDoc.data()\n            }));\n        if (cartData.length === 0) {\n            callback({\n                statusCode: 404,\n                message: \"You have no items in your cart\",\n                data: null\n            });\n            return;\n        }\n        const productIds = cartData.map((cartItem)=>cartItem.productId);\n        const productData = [];\n        for (const productId of productIds){\n            const productDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestore, \"products\", productId);\n            const productSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(productDocRef);\n            const product = {\n                id: productId,\n                ...productSnapshot.data()\n            };\n            productData.push(product);\n        }\n        callback({\n            statusCode: 200,\n            message: \"Data found successfully\",\n            data: {\n                cartData,\n                productData\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching cart data:\", error);\n        callback({\n            statusCode: 500,\n            message: \"Internal server error\",\n            data: null\n        });\n    }\n}\nasync function getOrderData(userId, callback) {\n    try {\n        const orderQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestore, \"orders\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"userId\", \"==\", userId));\n        const orderSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(orderQuery);\n        const orderData = orderSnapshot.docs.map((orderDoc)=>({\n                id: orderDoc.id,\n                ...orderDoc.data()\n            }));\n        if (orderData.length === 0) {\n            callback({\n                statusCode: 404,\n                message: \"You haven't ordered yet\",\n                data: null\n            });\n        }\n        callback({\n            statusCode: 200,\n            message: \"Data found successfully\",\n            data: {\n                orderData\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching cart data:\", error);\n        callback({\n            statusCode: 500,\n            message: \"Internal server error\",\n            data: null\n        });\n    }\n}\n// UPDATE\nasync function updateDataById(collectionName, id, data, callback) {\n    try {\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestore, collectionName, id));\n        const dataRef = snapshot.data();\n        if (dataRef) {\n            const updateData = {\n                ...data,\n                dataUpdated: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestore, collectionName, id), updateData).then(()=>{\n                callback({\n                    statusCode: 200,\n                    message: \"Data updated successfully\",\n                    data: updateData\n                });\n            });\n        } else {\n            callback({\n                statusCode: 404,\n                message: \"Data not found\",\n                data: null\n            });\n        }\n    } catch (error) {\n        callback({\n            statusCode: 500,\n            message: \"Error updating document : \" + error,\n            data: null\n        });\n    }\n}\n// DELETE\nasync function deleteDataById(collectionName, id, callback) {\n    try {\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestore, collectionName, id));\n        const data = snapshot.data();\n        if (data) {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestore, collectionName, id));\n            callback({\n                statusCode: 200,\n                message: \"Data deleted successfully\",\n                data: null\n            });\n        } else {\n            callback({\n                statusCode: 404,\n                message: \"Data not found\",\n                data: null\n            });\n        }\n    } catch (error) {\n        callback({\n            statusCode: 500,\n            message: \"Error updating document : \" + error,\n            data: null\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUs7UUFDcEU7SUFDRixFQUFFLE9BQU9PLE9BQU87UUFDZE4sU0FBUztZQUNQSSxZQUFZO1lBQ1pDLFNBQVMsK0JBQStCQztZQUN4Q1AsTUFBTTtRQUNSO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3J5c3RvcmUvLi9zcmMvbGliL2ZpcmViYXNlL3NlcnZpY2UudHM/NGY0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXBwLCB7IHN0b3JhZ2UgfSBmcm9tIFwiLi9pbml0XCI7XHJcbmltcG9ydCB7XHJcbiAgYWRkRG9jLFxyXG4gIGNvbGxlY3Rpb24sXHJcbiAgZGVsZXRlRG9jLFxyXG4gIGRvYyxcclxuICBnZXREb2MsXHJcbiAgZ2V0RG9jcyxcclxuICBxdWVyeSxcclxuICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbiAgdXBkYXRlRG9jLFxyXG4gIHdoZXJlLFxyXG59IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcclxuaW1wb3J0IHsgdXNlclR5cGUgfSBmcm9tIFwiQC90eXBlcy91c2VyVHlwZVwiO1xyXG5pbXBvcnQgeyBwcm9kdWN0VHlwZSB9IGZyb20gXCJAL3R5cGVzL3Byb2R1Y3RUeXBlXCI7XHJcbmltcG9ydCB7IGNhcnRUeXBlIH0gZnJvbSBcIkAvdHlwZXMvY2FydFR5cGVcIjtcclxuaW1wb3J0IHsgcmVmLCB1cGxvYWRCeXRlcywgZ2V0RG93bmxvYWRVUkwgfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSBcImZzXCI7XHJcblxyXG5jb25zdCBmaXJlc3RvcmUgPSBhcHA7XHJcblxyXG4vLyBDUkVBVEVcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURhdGEoXHJcbiAgY29sbGVjdGlvbk5hbWU6IHN0cmluZyxcclxuICB7IGRhdGEgfTogeyBkYXRhOiBwcm9kdWN0VHlwZSB9LFxyXG4gIGNhbGxiYWNrOiBGdW5jdGlvblxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBjb2xsZWN0aW9uTmFtZSksIHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgZGF0YUFkZGVkOiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgICAgZGF0YVVwZGF0ZWQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgfSk7XHJcbiAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDIwMCwgbWVzc2FnZTogXCJSZWdpc3RlciBzdWNjZXNzXCIsIGRhdGE6IGRvY1JlZiB9KTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDUwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwgZGF0YTogbnVsbCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGxvYWRJbWFnZShcclxuICBmb2xkZXI6IHN0cmluZyxcclxuICBpbWFnZU5hbWVzOiBzdHJpbmdbXSxcclxuICBpbWFnZXM6IGFueVtdLFxyXG4gIGNhbGxiYWNrOiBGdW5jdGlvblxyXG4pIHtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRvd25sb2FkVVJMczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBpbWFnZSA9IGltYWdlc1tpXTtcclxuICAgICAgY29uc3QgaW1hZ2VOYW1lID0gaW1hZ2VOYW1lc1tpXTtcclxuXHJcbiAgICAgIGNvbnN0IGZpbGVCdWZmZXIgPSBhd2FpdCBmc1Byb21pc2VzLnJlYWRGaWxlKGltYWdlLnBhdGgpO1xyXG5cclxuXHJcbiAgICAgIGNvbnN0IHN0b3JhZ2VQYXRoID0gYCR7Zm9sZGVyfS8ke2ltYWdlTmFtZX1gOyBcclxuICAgICAgY29uc3Qgc3RvcmFnZVJlZiA9IHJlZihzdG9yYWdlLCBzdG9yYWdlUGF0aCk7XHJcblxyXG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHtcclxuICAgICAgICBjb250ZW50VHlwZTogXCJpbWFnZS9wbmdcIixcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIGZpbGVCdWZmZXIsIG1ldGFkYXRhKTtcclxuXHJcbiAgICAgIGNvbnN0IGRvd25sb2FkVVJMID0gYXdhaXQgZ2V0RG93bmxvYWRVUkwoc3RvcmFnZVJlZik7XHJcblxyXG4gICAgICBkb3dubG9hZFVSTHMucHVzaChkb3dubG9hZFVSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbGJhY2soe1xyXG4gICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgIG1lc3NhZ2U6IFwiT0tcIixcclxuICAgICAgZGF0YTogZG93bmxvYWRVUkxzLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY2FsbGJhY2soe1xyXG4gICAgICBzdGF0dXNDb2RlOiA1MDAsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIGRhdGE6IG51bGwsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaW5nVXAodXNlckRhdGE6IHVzZXJUeXBlLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcclxuICBjb25zdCBxID0gcXVlcnkoXHJcbiAgICBjb2xsZWN0aW9uKGZpcmVzdG9yZSwgXCJ1c2Vyc1wiKSxcclxuICAgIHdoZXJlKFwiZW1haWxcIiwgXCI9PVwiLCB1c2VyRGF0YS5lbWFpbClcclxuICApO1xyXG4gIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuICBjb25zdCBkYXRhID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgIGlkOiBkb2MuaWQsXHJcbiAgICAuLi5kb2MuZGF0YSgpLFxyXG4gIH0pKTtcclxuXHJcbiAgLy8gY2hlY2sgaWQgdGhlIGVtYWlsIGFscmVhZHkgZXhpc3RzXHJcbiAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgY2FsbGJhY2soeyBzdGF0dXNDb2RlOiA0MDAsIG1lc3NhZ2U6IFwiRW1haWwgYWxyZWFkeSBleGlzdHNcIiwgZGF0YTogbnVsbCB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gaGFzaGluZyBwYXNzd29yZCB1c2luZyBiY3J5cHRcclxuICAgIHVzZXJEYXRhLnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlckRhdGEucGFzc3dvcmQsIDEwKTtcclxuICAgIHVzZXJEYXRhLnJvbGUgPSBcInVzZXJcIjtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcInVzZXJzXCIpLCB7XHJcbiAgICAgIC4uLnVzZXJEYXRhLFxyXG4gICAgICBkYXRhQWRkZWQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICBkYXRhVXBkYXRlZDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soeyBzdGF0dXNDb2RlOiAyMDAsIG1lc3NhZ2U6IFwiUmVnaXN0ZXIgc3VjY2Vzc1wiLCBkYXRhOiBkYXRhIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDUwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwgZGF0YTogbnVsbCB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBSRUFEXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyaWV2ZURhdGEoY29sbGVjdGlvbk5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4gICAgY29sbGVjdGlvbihmaXJlc3RvcmUsIGNvbGxlY3Rpb25OYW1lKVxyXG4gICAgLy8gd2hlcmUoXCJpc0Rpc2NvdW50XCIsIFwiPT1cIiwgdHJ1ZSlcclxuICAgIC8vIHdoZXJlKFwic3RvY2tcIiwgXCI+XCIsIDApXHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuICAvLyAuZmlsdGVyKChkb2MpPT4gZG9jLmRhdGEoKS5zdG9jayA+IDApXHJcblxyXG4gIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoe1xyXG4gICAgaWQ6IGRvYy5pZCxcclxuICAgIC4uLmRvYy5kYXRhKCksXHJcbiAgfSkpO1xyXG5cclxuICBpZiAoZGF0YSkge1xyXG4gICAgY2FsbGJhY2soeyBzdGF0dXNDb2RlOiAyMDAsIG1lc3NhZ2U6IFwiRGF0YSBmb3VuZCBzdWNjZXNzZnVseVwiLCBkYXRhIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDQwNCwgbWVzc2FnZTogXCJEYXRhIG5vdCBmb3VuZFwiLCBkYXRhOiBudWxsIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJpZXZlRGF0YUJ5SWQoXHJcbiAgY29sbGVjdGlvbk5hbWU6IHN0cmluZyxcclxuICBpZDogc3RyaW5nLFxyXG4gIGNhbGxiYWNrOiBGdW5jdGlvblxyXG4pIHtcclxuICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvYyhkb2MoZmlyZXN0b3JlLCBjb2xsZWN0aW9uTmFtZSwgaWQpKTtcclxuICBjb25zdCBkYXRhID0ge1xyXG4gICAgaWQ6IGlkLFxyXG4gICAgLi4uc25hcHNob3QuZGF0YSgpLFxyXG4gIH07XHJcblxyXG4gIGlmIChkYXRhKSB7XHJcbiAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDIwMCwgbWVzc2FnZTogXCJEYXRhIGZvdW5kIHN1Y2Nlc3NmdWx5XCIsIGRhdGEgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNhbGxiYWNrKHsgc3RhdHVzQ29kZTogNDA0LCBtZXNzYWdlOiBcIkRhdGEgbm90IGZvdW5kXCIsIGRhdGE6IG51bGwgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluKHVzZXJEYXRhOiB7IGVtYWlsOiBzdHJpbmcgfSkge1xyXG4gIGNvbnN0IHEgPSBxdWVyeShcclxuICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcInVzZXJzXCIpLFxyXG4gICAgd2hlcmUoXCJlbWFpbFwiLCBcIj09XCIsIHVzZXJEYXRhLmVtYWlsKVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuICBjb25zdCBkYXRhID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgIGlkOiBkb2MuaWQsXHJcbiAgICAuLi5kb2MuZGF0YSgpLFxyXG4gIH0pKTtcclxuXHJcbiAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgcmV0dXJuIGRhdGFbMF07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcInVzZXIgbm90IGZvdW5kXCIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhcnREYXRhKHVzZXJJZDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2FydFF1ZXJ5ID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcImNhcnRcIiksXHJcbiAgICAgIHdoZXJlKFwidXNlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGNhcnRTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY2FydFF1ZXJ5KTtcclxuICAgIGNvbnN0IGNhcnREYXRhID0gY2FydFNuYXBzaG90LmRvY3MubWFwKFxyXG4gICAgICAoY2FydERvYykgPT5cclxuICAgICAgICAoe1xyXG4gICAgICAgICAgaWQ6IGNhcnREb2MuaWQsXHJcbiAgICAgICAgICAuLi5jYXJ0RG9jLmRhdGEoKSxcclxuICAgICAgICB9IGFzIGNhcnRUeXBlKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoY2FydERhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNhbGxiYWNrKHtcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDQsXHJcbiAgICAgICAgbWVzc2FnZTogXCJZb3UgaGF2ZSBubyBpdGVtcyBpbiB5b3VyIGNhcnRcIixcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb2R1Y3RJZHMgPSBjYXJ0RGF0YS5tYXAoKGNhcnRJdGVtKSA9PiBjYXJ0SXRlbS5wcm9kdWN0SWQpO1xyXG4gICAgY29uc3QgcHJvZHVjdERhdGEgPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHByb2R1Y3RJZCBvZiBwcm9kdWN0SWRzKSB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3REb2NSZWYgPSBkb2MoZmlyZXN0b3JlLCBcInByb2R1Y3RzXCIsIHByb2R1Y3RJZCk7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3RTbmFwc2hvdCA9IGF3YWl0IGdldERvYyhwcm9kdWN0RG9jUmVmKTtcclxuICAgICAgY29uc3QgcHJvZHVjdCA9IHtcclxuICAgICAgICBpZDogcHJvZHVjdElkLFxyXG4gICAgICAgIC4uLnByb2R1Y3RTbmFwc2hvdC5kYXRhKCksXHJcbiAgICAgIH07XHJcbiAgICAgIHByb2R1Y3REYXRhLnB1c2gocHJvZHVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbGJhY2soe1xyXG4gICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgIG1lc3NhZ2U6IFwiRGF0YSBmb3VuZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgZGF0YTogeyBjYXJ0RGF0YSwgcHJvZHVjdERhdGEgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY2FydCBkYXRhOlwiLCBlcnJvcik7XHJcbiAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDUwMCwgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiwgZGF0YTogbnVsbCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPcmRlckRhdGEodXNlcklkOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBvcmRlclF1ZXJ5ID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlLCBcIm9yZGVyc1wiKSxcclxuICAgICAgd2hlcmUoXCJ1c2VySWRcIiwgXCI9PVwiLCB1c2VySWQpXHJcbiAgICApO1xyXG4gICAgY29uc3Qgb3JkZXJTbmFwc2hvdCA9IGF3YWl0IGdldERvY3Mob3JkZXJRdWVyeSk7XHJcbiAgICBjb25zdCBvcmRlckRhdGEgPSBvcmRlclNuYXBzaG90LmRvY3MubWFwKFxyXG4gICAgICAob3JkZXJEb2MpID0+XHJcbiAgICAgICAgKHtcclxuICAgICAgICAgIGlkOiBvcmRlckRvYy5pZCxcclxuICAgICAgICAgIC4uLm9yZGVyRG9jLmRhdGEoKSxcclxuICAgICAgICB9IGFzIGNhcnRUeXBlKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAob3JkZXJEYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDA0LFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiWW91IGhhdmVuJ3Qgb3JkZXJlZCB5ZXRcIixcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxsYmFjayh7XHJcbiAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgbWVzc2FnZTogXCJEYXRhIGZvdW5kIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICBkYXRhOiB7IG9yZGVyRGF0YSB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjYXJ0IGRhdGE6XCIsIGVycm9yKTtcclxuICAgIGNhbGxiYWNrKHsgc3RhdHVzQ29kZTogNTAwLCBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiLCBkYXRhOiBudWxsIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gVVBEQVRFXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYXRhQnlJZChcclxuICBjb2xsZWN0aW9uTmFtZTogc3RyaW5nLFxyXG4gIGlkOiBzdHJpbmcsXHJcbiAgZGF0YTogeyBkYXRhOiB1c2VyVHlwZSB9IHwgeyBkYXRhOiBwcm9kdWN0VHlwZSB9LFxyXG4gIGNhbGxiYWNrOiBGdW5jdGlvblxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2MoZG9jKGZpcmVzdG9yZSwgY29sbGVjdGlvbk5hbWUsIGlkKSk7XHJcbiAgICBjb25zdCBkYXRhUmVmID0gc25hcHNob3QuZGF0YSgpO1xyXG5cclxuICAgIGlmIChkYXRhUmVmKSB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XHJcbiAgICAgICAgLi4uZGF0YSxcclxuICAgICAgICBkYXRhVXBkYXRlZDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGZpcmVzdG9yZSwgY29sbGVjdGlvbk5hbWUsIGlkKSwgdXBkYXRlRGF0YSkudGhlbihcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICBjYWxsYmFjayh7XHJcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJEYXRhIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHVwZGF0ZURhdGEsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYWxsYmFjayh7IHN0YXR1c0NvZGU6IDQwNCwgbWVzc2FnZTogXCJEYXRhIG5vdCBmb3VuZFwiLCBkYXRhOiBudWxsIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjYWxsYmFjayh7XHJcbiAgICAgIHN0YXR1c0NvZGU6IDUwMCxcclxuICAgICAgbWVzc2FnZTogXCJFcnJvciB1cGRhdGluZyBkb2N1bWVudCA6IFwiICsgZXJyb3IsXHJcbiAgICAgIGRhdGE6IG51bGwsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIERFTEVURVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRGF0YUJ5SWQoXHJcbiAgY29sbGVjdGlvbk5hbWU6IHN0cmluZyxcclxuICBpZDogc3RyaW5nLFxyXG4gIGNhbGxiYWNrOiBGdW5jdGlvblxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2MoZG9jKGZpcmVzdG9yZSwgY29sbGVjdGlvbk5hbWUsIGlkKSk7XHJcbiAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpO1xyXG5cclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhkb2MoZmlyZXN0b3JlLCBjb2xsZWN0aW9uTmFtZSwgaWQpKTtcclxuICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICBtZXNzYWdlOiBcIkRhdGEgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbGxiYWNrKHsgc3RhdHVzQ29kZTogNDA0LCBtZXNzYWdlOiBcIkRhdGEgbm90IGZvdW5kXCIsIGRhdGE6IG51bGwgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNhbGxiYWNrKHtcclxuICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgICBtZXNzYWdlOiBcIkVycm9yIHVwZGF0aW5nIGRvY3VtZW50IDogXCIgKyBlcnJvcixcclxuICAgICAgZGF0YTogbnVsbCxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiYXBwIiwic3RvcmFnZSIsImFkZERvYyIsImNvbGxlY3Rpb24iLCJkZWxldGVEb2MiLCJkb2MiLCJnZXREb2MiLCJnZXREb2NzIiwicXVlcnkiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJ1cGRhdGVEb2MiLCJ3aGVyZSIsImJjcnlwdCIsInJlZiIsInVwbG9hZEJ5dGVzIiwiZ2V0RG93bmxvYWRVUkwiLCJwcm9taXNlcyIsImZzUHJvbWlzZXMiLCJmaXJlc3RvcmUiLCJjcmVhdGVEYXRhIiwiY29sbGVjdGlvbk5hbWUiLCJkYXRhIiwiY2FsbGJhY2siLCJkb2NSZWYiLCJkYXRhQWRkZWQiLCJkYXRhVXBkYXRlZCIsInN0YXR1c0NvZGUiLCJtZXNzYWdlIiwiZXJyb3IiLCJ1cGxvYWRJbWFnZSIsImZvbGRlciIsImltYWdlTmFtZXMiLCJpbWFnZXMiLCJkb3dubG9hZFVSTHMiLCJpIiwibGVuZ3RoIiwiaW1hZ2UiLCJpbWFnZU5hbWUiLCJmaWxlQnVmZmVyIiwicmVhZEZpbGUiLCJwYXRoIiwic3RvcmFnZVBhdGgiLCJzdG9yYWdlUmVmIiwibWV0YWRhdGEiLCJjb250ZW50VHlwZSIsImRvd25sb2FkVVJMIiwicHVzaCIsInNpbmdVcCIsInVzZXJEYXRhIiwicSIsImVtYWlsIiwic25hcHNob3QiLCJkb2NzIiwibWFwIiwiaWQiLCJwYXNzd29yZCIsImhhc2giLCJyb2xlIiwidGhlbiIsImNhdGNoIiwicmV0cmlldmVEYXRhIiwicmV0cmlldmVEYXRhQnlJZCIsInNpZ25JbiIsIkVycm9yIiwiZ2V0Q2FydERhdGEiLCJ1c2VySWQiLCJjYXJ0UXVlcnkiLCJjYXJ0U25hcHNob3QiLCJjYXJ0RGF0YSIsImNhcnREb2MiLCJwcm9kdWN0SWRzIiwiY2FydEl0ZW0iLCJwcm9kdWN0SWQiLCJwcm9kdWN0RGF0YSIsInByb2R1Y3REb2NSZWYiLCJwcm9kdWN0U25hcHNob3QiLCJwcm9kdWN0IiwiY29uc29sZSIsImdldE9yZGVyRGF0YSIsIm9yZGVyUXVlcnkiLCJvcmRlclNuYXBzaG90Iiwib3JkZXJEYXRhIiwib3JkZXJEb2MiLCJ1cGRhdGVEYXRhQnlJZCIsImRhdGFSZWYiLCJ1cGRhdGVEYXRhIiwiZGVsZXRlRGF0YUJ5SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/firebase/service.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/[...nextauth].ts":
/*!*********************************************!*\
  !*** ./src/pages/api/auth/[...nextauth].ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/firebase/service */ \"(api)/./src/lib/firebase/service.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// import { compare } from \"bcrypt\";\n\nconst authOptions = {\n    session: {\n        strategy: \"jwt\"\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_3___default()({\n            // The name to display on the sign in form (e.g. \"Sign in with...\")\n            name: \"Credentials\",\n            // `credentials` is used to generate a form on the sign in page.\n            // You can specify which fields should be submitted, by adding keys to the `credentials` object.\n            // e.g. domain, username, password, 2FA token, etc.\n            // You can pass any HTML attribute to the <input> tag through the object.\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\",\n                    placeholder: \"jasuke@mail.com\"\n                },\n                fullname: {\n                    label: \"Fullname\",\n                    type: \"text\",\n                    placeholder: \"John Doe\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\",\n                    placeholder: \"******\"\n                }\n            },\n            async authorize (credentials) {\n                // Add logic here to look up the user from the credentials supplied\n                const { email, password } = credentials;\n                const user = await (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__.signIn)({\n                    email\n                });\n                if (user) {\n                    // Any object returned will be saved in `user` property of the JWT\n                    const passwordConfirm = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_1__.compare)(password, user.password);\n                    if (passwordConfirm) {\n                        return user;\n                    }\n                    return user;\n                } else {\n                    // If you return null then an error will be displayed advising the user to check their details.\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        jwt ({ token, account, user }) {\n            if (account?.provider === \"credentials\") {\n                token.id = user.id;\n                token.email = user.email;\n                token.firstname = user.firstname;\n                token.lastname = user.lastname;\n                token.fullname = user.fullname;\n                token.role = user.role;\n                token.address = user.address;\n                token.phone = user.phone;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (\"id\" in token) {\n                session.user.id = token.id;\n            }\n            if (\"email\" in token) {\n                session.user.email = token.email;\n            }\n            if (\"firstname\" in token) {\n                session.user.firstname = token.firstname;\n            }\n            if (\"lastname\" in token) {\n                session.user.lastname = token.lastname;\n            }\n            if (\"fullname\" in token) {\n                session.user.fullname = token.fullname;\n            }\n            if (\"role\" in token) {\n                session.user.role = token.role;\n            }\n            if (\"address\" in token) {\n                session.user.address = token.address;\n            }\n            if (\"phone\" in token) {\n                session.user.phone = token.phone;\n            }\n            return Promise.resolve(session);\n        }\n    },\n    pages: {\n        signIn: \"auth/login\"\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth_next__WEBPACK_IMPORTED_MODULE_2___default()(authOptions));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNiO0FBRUc7QUFDdEMsb0NBQW9DO0FBQzhCO0FBV2xFLE1BQU1JLGNBQStCO0lBQ25DQyxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGVBQWU7SUFDbkNDLFdBQVc7UUFDVFIsc0VBQW1CQSxDQUFDO1lBQ2xCLG1FQUFtRTtZQUNuRVMsTUFBTTtZQUNOLGdFQUFnRTtZQUNoRSxnR0FBZ0c7WUFDaEcsbURBQW1EO1lBQ25ELHlFQUF5RTtZQUN6RUMsYUFBYTtnQkFDWEMsT0FBTztvQkFDTEMsT0FBTztvQkFDUEMsTUFBTTtvQkFDTkMsYUFBYTtnQkFDZjtnQkFDQUMsVUFBVTtvQkFBRUgsT0FBTztvQkFBWUMsTUFBTTtvQkFBUUMsYUFBYTtnQkFBVztnQkFDckVFLFVBQVU7b0JBQ1JKLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLGFBQWE7Z0JBQ2Y7WUFDRjtZQUNBLE1BQU1HLFdBQVVQLFdBQVc7Z0JBQ3pCLG1FQUFtRTtnQkFDbkUsTUFBTSxFQUFFQyxLQUFLLEVBQUVLLFFBQVEsRUFBRSxHQUFHTjtnQkFLNUIsTUFBTVEsT0FBWSxNQUFNckIsNkRBQU1BLENBQUM7b0JBQUVjO2dCQUFNO2dCQUV2QyxJQUFJTyxNQUFNO29CQUNSLGtFQUFrRTtvQkFDbEUsTUFBTUMsa0JBQWtCLE1BQU1yQixpREFBT0EsQ0FBQ2tCLFVBQVVFLEtBQUtGLFFBQVE7b0JBQzdELElBQUlHLGlCQUFpQjt3QkFDbkIsT0FBT0Q7b0JBQ1Q7b0JBQ0EsT0FBT0E7Z0JBQ1QsT0FBTztvQkFDTCwrRkFBK0Y7b0JBQy9GLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO0tBQ0Q7SUFDREUsV0FBVztRQUNUQyxLQUFJLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFTCxJQUFJLEVBQU87WUFDL0IsSUFBSUssU0FBU0MsYUFBYSxlQUFlO2dCQUN2Q0YsTUFBTUcsRUFBRSxHQUFHUCxLQUFLTyxFQUFFO2dCQUNsQkgsTUFBTVgsS0FBSyxHQUFHTyxLQUFLUCxLQUFLO2dCQUN4QlcsTUFBTUksU0FBUyxHQUFHUixLQUFLUSxTQUFTO2dCQUNoQ0osTUFBTUssUUFBUSxHQUFHVCxLQUFLUyxRQUFRO2dCQUM5QkwsTUFBTVAsUUFBUSxHQUFHRyxLQUFLSCxRQUFRO2dCQUM5Qk8sTUFBTU0sSUFBSSxHQUFHVixLQUFLVSxJQUFJO2dCQUN0Qk4sTUFBTU8sT0FBTyxHQUFHWCxLQUFLVyxPQUFPO2dCQUM1QlAsTUFBTVEsS0FBSyxHQUFHWixLQUFLWSxLQUFLO1lBQzFCO1lBQ0EsT0FBT1I7UUFDVDtRQUNBLE1BQU1wQixTQUFRLEVBQUVBLE9BQU8sRUFBRW9CLEtBQUssRUFBTztZQUNuQyxJQUFJLFFBQVFBLE9BQU87Z0JBQ2pCcEIsUUFBUWdCLElBQUksQ0FBQ08sRUFBRSxHQUFHSCxNQUFNRyxFQUFFO1lBQzVCO1lBQ0EsSUFBSSxXQUFXSCxPQUFPO2dCQUNwQnBCLFFBQVFnQixJQUFJLENBQUNQLEtBQUssR0FBR1csTUFBTVgsS0FBSztZQUNsQztZQUNBLElBQUksZUFBZVcsT0FBTztnQkFDeEJwQixRQUFRZ0IsSUFBSSxDQUFDUSxTQUFTLEdBQUdKLE1BQU1JLFNBQVM7WUFDMUM7WUFDQSxJQUFJLGNBQWNKLE9BQU87Z0JBQ3ZCcEIsUUFBUWdCLElBQUksQ0FBQ1MsUUFBUSxHQUFHTCxNQUFNSyxRQUFRO1lBQ3hDO1lBQ0EsSUFBSSxjQUFjTCxPQUFPO2dCQUN2QnBCLFFBQVFnQixJQUFJLENBQUNILFFBQVEsR0FBR08sTUFBTVAsUUFBUTtZQUN4QztZQUNBLElBQUksVUFBVU8sT0FBTztnQkFDbkJwQixRQUFRZ0IsSUFBSSxDQUFDVSxJQUFJLEdBQUdOLE1BQU1NLElBQUk7WUFDaEM7WUFDQSxJQUFJLGFBQWFOLE9BQU87Z0JBQ3RCcEIsUUFBUWdCLElBQUksQ0FBQ1csT0FBTyxHQUFHUCxNQUFNTyxPQUFPO1lBQ3RDO1lBQ0EsSUFBSSxXQUFXUCxPQUFPO2dCQUNwQnBCLFFBQVFnQixJQUFJLENBQUNZLEtBQUssR0FBR1IsTUFBTVEsS0FBSztZQUNsQztZQUVBLE9BQU9DLFFBQVFDLE9BQU8sQ0FBQzlCO1FBQ3pCO0lBQ0Y7SUFFQStCLE9BQU87UUFDTHBDLFFBQVE7SUFDVjtBQUNGO0FBRUEsaUVBQWVFLHFEQUFRQSxDQUFDRSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnlzdG9yZS8uL3NyYy9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzPzUwYTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2lnbkluIH0gZnJvbSBcIkAvbGliL2ZpcmViYXNlL3NlcnZpY2VcIjtcclxuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCJiY3J5cHRqc1wiO1xyXG5pbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbmltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoL25leHRcIjtcclxuLy8gaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gXCJiY3J5cHRcIjtcclxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIjtcclxuXHJcbmludGVyZmFjZSBTZXNzaW9uRGF0YSB7XHJcbiAgdXNlcj86IHtcclxuICAgIGVtYWlsPzogc3RyaW5nO1xyXG4gICAgaW1hZ2U/OiBzdHJpbmc7XHJcbiAgICBmdWxsbmFtZT86IHN0cmluZztcclxuICB9O1xyXG4gIGV4cGlyZXM6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIixcclxuICB9LFxyXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIC8vIFRoZSBuYW1lIHRvIGRpc3BsYXkgb24gdGhlIHNpZ24gaW4gZm9ybSAoZS5nLiBcIlNpZ24gaW4gd2l0aC4uLlwiKVxyXG4gICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXHJcbiAgICAgIC8vIGBjcmVkZW50aWFsc2AgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIGZvcm0gb24gdGhlIHNpZ24gaW4gcGFnZS5cclxuICAgICAgLy8gWW91IGNhbiBzcGVjaWZ5IHdoaWNoIGZpZWxkcyBzaG91bGQgYmUgc3VibWl0dGVkLCBieSBhZGRpbmcga2V5cyB0byB0aGUgYGNyZWRlbnRpYWxzYCBvYmplY3QuXHJcbiAgICAgIC8vIGUuZy4gZG9tYWluLCB1c2VybmFtZSwgcGFzc3dvcmQsIDJGQSB0b2tlbiwgZXRjLlxyXG4gICAgICAvLyBZb3UgY2FuIHBhc3MgYW55IEhUTUwgYXR0cmlidXRlIHRvIHRoZSA8aW5wdXQ+IHRhZyB0aHJvdWdoIHRoZSBvYmplY3QuXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgZW1haWw6IHtcclxuICAgICAgICAgIGxhYmVsOiBcIkVtYWlsXCIsXHJcbiAgICAgICAgICB0eXBlOiBcImVtYWlsXCIsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJqYXN1a2VAbWFpbC5jb21cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bGxuYW1lOiB7IGxhYmVsOiBcIkZ1bGxuYW1lXCIsIHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCJKb2huIERvZVwiIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICAgIGxhYmVsOiBcIlBhc3N3b3JkXCIsXHJcbiAgICAgICAgICB0eXBlOiBcInBhc3N3b3JkXCIsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCIqKioqKipcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICAvLyBBZGQgbG9naWMgaGVyZSB0byBsb29rIHVwIHRoZSB1c2VyIGZyb20gdGhlIGNyZWRlbnRpYWxzIHN1cHBsaWVkXHJcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGNyZWRlbnRpYWxzIGFzIHtcclxuICAgICAgICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICAgICAgICBwYXNzd29yZDogc3RyaW5nO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXI6IGFueSA9IGF3YWl0IHNpZ25Jbih7IGVtYWlsIH0pO1xyXG5cclxuICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgLy8gQW55IG9iamVjdCByZXR1cm5lZCB3aWxsIGJlIHNhdmVkIGluIGB1c2VyYCBwcm9wZXJ0eSBvZiB0aGUgSldUXHJcbiAgICAgICAgICBjb25zdCBwYXNzd29yZENvbmZpcm0gPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgICAgICAgIGlmIChwYXNzd29yZENvbmZpcm0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdXNlcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gSWYgeW91IHJldHVybiBudWxsIHRoZW4gYW4gZXJyb3Igd2lsbCBiZSBkaXNwbGF5ZWQgYWR2aXNpbmcgdGhlIHVzZXIgdG8gY2hlY2sgdGhlaXIgZGV0YWlscy5cclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pLFxyXG4gIF0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBqd3QoeyB0b2tlbiwgYWNjb3VudCwgdXNlciB9OiBhbnkpIHtcclxuICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSBcImNyZWRlbnRpYWxzXCIpIHtcclxuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XHJcbiAgICAgICAgdG9rZW4uZW1haWwgPSB1c2VyLmVtYWlsO1xyXG4gICAgICAgIHRva2VuLmZpcnN0bmFtZSA9IHVzZXIuZmlyc3RuYW1lO1xyXG4gICAgICAgIHRva2VuLmxhc3RuYW1lID0gdXNlci5sYXN0bmFtZTtcclxuICAgICAgICB0b2tlbi5mdWxsbmFtZSA9IHVzZXIuZnVsbG5hbWU7XHJcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZTtcclxuICAgICAgICB0b2tlbi5hZGRyZXNzID0gdXNlci5hZGRyZXNzO1xyXG4gICAgICAgIHRva2VuLnBob25lID0gdXNlci5waG9uZVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfTogYW55KTogUHJvbWlzZTxTZXNzaW9uRGF0YT4ge1xyXG4gICAgICBpZiAoXCJpZFwiIGluIHRva2VuKSB7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWRcclxuICAgICAgfVxyXG4gICAgICBpZiAoXCJlbWFpbFwiIGluIHRva2VuKSB7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLmVtYWlsID0gdG9rZW4uZW1haWw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFwiZmlyc3RuYW1lXCIgaW4gdG9rZW4pIHtcclxuICAgICAgICBzZXNzaW9uLnVzZXIuZmlyc3RuYW1lID0gdG9rZW4uZmlyc3RuYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChcImxhc3RuYW1lXCIgaW4gdG9rZW4pIHtcclxuICAgICAgICBzZXNzaW9uLnVzZXIubGFzdG5hbWUgPSB0b2tlbi5sYXN0bmFtZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoXCJmdWxsbmFtZVwiIGluIHRva2VuKSB7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLmZ1bGxuYW1lID0gdG9rZW4uZnVsbG5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFwicm9sZVwiIGluIHRva2VuKSB7XHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChcImFkZHJlc3NcIiBpbiB0b2tlbikge1xyXG4gICAgICAgIHNlc3Npb24udXNlci5hZGRyZXNzID0gdG9rZW4uYWRkcmVzc1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChcInBob25lXCIgaW4gdG9rZW4pIHtcclxuICAgICAgICBzZXNzaW9uLnVzZXIucGhvbmUgPSB0b2tlbi5waG9uZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNlc3Npb24pO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBwYWdlczoge1xyXG4gICAgc2lnbkluOiBcImF1dGgvbG9naW5cIixcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoYXV0aE9wdGlvbnMpO1xyXG4iXSwibmFtZXMiOlsic2lnbkluIiwiY29tcGFyZSIsIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImF1dGhPcHRpb25zIiwic2Vzc2lvbiIsInN0cmF0ZWd5Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1NFQ1JFVCIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJmdWxsbmFtZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsInBhc3N3b3JkQ29uZmlybSIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwiYWNjb3VudCIsInByb3ZpZGVyIiwiaWQiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsInJvbGUiLCJhZGRyZXNzIiwicGhvbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInBhZ2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/[...nextauth].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();